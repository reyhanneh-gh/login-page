<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="src/style/master.css">
    <link rel="stylesheet" href="src/style/output.css">
    <link rel="stylesheet" href="src/style/myfooter.css">
    <link rel="stylesheet" href="src/assets/css/fontello.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Bagel+Fat+One&family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap"
        rel="stylesheet">
</head>

<body class="w-full h-[100vh] flex justify-center items-center bg-pink-200 md:bg-gray-300">
    <section
        class="w-11/12 sm:w-10/12 md:w-3/4 lg:w-1/2 h-[400px] bg-white rounded-[10px] relative shadow-2xl overflow-hidden">
        <div id="pink" class="w-[110%] h-[200%] md:bg-[#fea5d4] absolute top-[50%] left-[50%] translate-y-[-50%] duration-[2s]
            rotate-[15deg] md:z-50 hidden">
        </div>
        <!-- -------------------------first---------------------------- -->
        <div id="first" class="w-full md:w-[50%] h-full flex flex-col justify-center items-center gap-2.5">
            <h6 class="py-5 text-gray-500 text-[30px] text-center favFont1">üêæ<br>Welcome</h6>
            <button
                class="w-[50%] sm:w-[40%] h-fit rounded-4xl text-center text-white bg-pink-300 cursor-pointer hover:scale-[.9] duration-300 btnFont text-[20px]">Login</button>
            <button
                class="w-[50%] sm:w-[40%] h-fit rounded-4xl text-center text-white bg-pink-300 cursor-pointer hover:scale-[.9] duration-300 btnFont text-[20px]">Sign-Up</button>
            <figure class="absolute w-[100px] h-fit top-[100%] left-[-10px] translate-y-[-65%] rotate-[18deg] z-40">
                <img class="object-cover" src="src/assets/img/Project (20251017013629).png" alt="">
            </figure>
        </div>
        <!-- -------------------------second---------------------------- -->
        <form id="second" action="reg.php" onsubmit="sendform(event)" name="register"
            class="w-full md:w-[50%] h-fit hidden flex-col justify-center items-center gap-2.5 absolute right-0 top-[50%] translate-y-[-50%] z-20 opacity-0">
            <input id="email" type="email" placeholder="Email" name="email"
                class="w-3/4 bg-gray-200 px-2.5 py-1 rounded-4xl placeholder:text-[14px]">
            <div class="w-3/4 h-fit relative">
                <input id="pass" type="password" placeholder="Password" name="pass"
                    class="w-full bg-gray-200 px-2.5 py-1 rounded-4xl placeholder:text-[14px]">
                <span
                    class="material-symbols-outlined absolute right-2.5 top-[50%] translate-y-[-50%] z-50 text-gray-400 cursor-pointer spanSize">visibility_off</span>
            </div>
            <button id="logBtn"
                class="mt-5 w-[50%] sm:w-[40%] h-fit py-[5px] rounded-4xl text-center text-white bg-pink-300 cursor-pointer hover:scale-[.9] duration-300 btnFont text-[20px]">Login</button>

            <p id="error" class="absolute bottom-[-30%] text-pink-800 text-center"></p>
            <figure
                class="absolute w-[100px] h-fit bottom-[115%] translate-y-[27%] left-[50%] translate-x-[-50%] -z-50">
                <img class="object-cover" src="src/assets/img/body.png" alt="">
                <img id="face" class="w-[70px] absolute top-[45%] left-[50%] translate-x-[-50%]"
                    src="src/assets/img/face.png" alt="">
                <img id="hands" src="src/assets/img/hands1.png" alt=""
                    class="w-[100px] absolute top-[85%] left-[50%] translate-x-[-50%] opacity-0">
            </figure>
        </form>
    </section>
</body>
<script>
    let Btn = document.querySelectorAll('div>button')
    let pink = document.getElementById('pink')
    let firstSection = document.getElementById('first')
    let secondSection = document.getElementById('second')

    // ----------------------pink div-------------------------
    Btn.forEach((val) => {
        val.addEventListener('click', () => {
            pink.style.left = '0'
            pink.style.transform = 'translateX(-55%) rotate(-175deg)'
            firstSection.style.opacity = '0'
            firstSection.style.transition = '1s'
            secondSection.style.opacity = '1'
            secondSection.style.display = 'flex'
            secondSection.style.transition = '3s'
        })
    })
    // -------------------------------------------------------

    let _email = document.forms['register']['email']
    let _pass = document.forms['register']['pass']
    let sp = document.querySelector('span')
    let _error = document.getElementById('error')
    let x = 0
    // ----------------------reg ex-------------------------
    //email
    _error.innerText = ""
    function sendform() {
        let flag = 0
        if (_email.value == "" || _email.value == null || _email.value.search(/<script>/) > 0) {
            _error.innerText = '*Invalid Email Address*'
            flag++
        } else if (
            _email.value.search(/['@']/) <= 2 ||
            _email.value.search(/['.']/) == -1 ||
            _email.value.lastIndexOf('.') + 2 > _email.value.length + 1 ||
            _email.value.length < 10
        ) {
            _error.innerText = '*Invalid Email Address*'
            flag++
        }
        //password
        if (_pass.value == '' || _pass.value == null || _pass.value.search(/<script>/)) {
            _error.innerText = 'Invalid Password'
            flag++

        } else if (
            _pass.value.length < 8 ||
            _pass.value.search(/[A-Z]/) == -1 ||
            _pass.value.search(/[a-z]/) == -1 ||
            _pass.value.search(/[0-9]/) == -1 ||
            _pass.value.search(/[!@#$%^&*()_+]/) == -1
        ) {
            _error.innerText = 'Password is incorrect'
            flag++
        }

        if (flag) event.preventDefault()
    }
    // -----------------cat face movement--------------------
    let face = document.getElementById('face')
    _email.addEventListener('input', () => {
        face.style.top = '52%'
        face.style.transition = '.5s'
        if (_email.value.length < 20) {
            let temp = 10 - _email.value.length
            face.style.transform = `translateX(${-temp}px)`
        }
    })
    //hands
    let hands = document.getElementById('hands')
    _pass.addEventListener('input', () => {
        face.style.transform = 'translateX(0px)'
        hands.style.top = '45%'
        hands.style.opacity = '1'
        hands.style.transition = '1s'
    })

    // ----------------password visibility------------------
    sp.addEventListener('click', () => {
        if (x % 2 === 0) {
            sp.innerText = 'visibility'
            _pass.type = 'text'
            hands.style.top = '85%'
            hands.style.opacity = '0'
            hands.style.transition = '1s'
        } else {
            sp.innerText = 'visibility_off'
            _pass.type = 'password'
            hands.style.top = '45%'
            hands.style.opacity = '1'
            hands.style.transition = '1s'
        }

        x++
    })
</script>

</html>